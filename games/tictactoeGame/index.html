<!DOCTYPE html>
<html class="dark" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe - Rase Games</title>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link crossorigin rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Spline+Sans:wght@300;400;500;600;700&family=Noto+Sans:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- Material Symbols -->
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <!-- Auth & Leaderboard -->
    <script src="/scripts/i18n.js"></script>
    <script src="/scripts/challenges.js"></script>
    <script src="/scripts/auth.js"></script>
    <script src="/scripts/leaderboard.js"></script>
    <!-- Theme Configuration -->
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#0f49bd",
                        "primary-dark": "#0a3690",
                        "background-light": "#f6f6f8",
                        "background-dark": "#101622",
                        "surface-dark": "#1c2333",
                        "surface-light": "#ffffff",
                    },
                    fontFamily: {
                        "display": ["Spline Sans", "sans-serif"],
                        "body": ["Noto Sans", "sans-serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.25rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "2xl": "1rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <style>
        .glass-panel {
            background: rgba(28, 35, 51, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .cell.win-cell {
            animation: winGlow 0.5s ease infinite alternate;
        }

        @keyframes winGlow {
            from {
                box-shadow: inset 0 0 20px rgba(15, 73, 189, 0.3);
            }

            to {
                box-shadow: inset 0 0 40px rgba(15, 73, 189, 0.6);
            }
        }

        .cell span {
            transition: transform 0.2s ease;
        }

        .cell:hover span {
            transform: scale(1.1);
        }
    </style>
    <link rel="stylesheet" href="/styles/auth.css">
</head>

<body
    class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white font-display min-h-screen flex flex-col overflow-x-hidden transition-colors duration-200">

    <!-- RaseGames Header -->
    <header
        class="w-full border-b border-gray-200 dark:border-gray-800 bg-surface-light dark:bg-surface-dark sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center gap-3">
                    <a href="/pages/games"
                        class="text-xl font-bold tracking-tight hover:text-primary transition-colors">Rase
                        Games</a>
                </div>
                <div class="flex items-center gap-6">
                    <a href="/pages/games"
                        class="text-sm text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">Games</a>
                    <a href="/pages/about"
                        class="text-sm text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">About</a>
                    <a href="/pages/leaderboard"
                        class="text-sm text-gray-500 dark:text-gray-400 hover:text-primary transition-colors">Leaderboards</a>
                    <a href="/raselab/"
                        class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-gradient-to-r from-purple-600 to-pink-500 hover:from-purple-500 hover:to-pink-400 text-white text-xs font-bold shadow-[0_0_15px_rgba(168,85,247,0.4)] hover:shadow-[0_0_20px_rgba(168,85,247,0.6)] transition-all no-underline hover:scale-105">
                        <span class="material-symbols-outlined text-[14px]">science</span>
                        RaseLab
                    </a>
                    <!-- Language Toggle -->
                <div class="flex items-center gap-1 bg-[#282e39] rounded-full p-1">
                    <button onclick="i18n.setLanguage('en')" data-lang-option="en" class="px-2 py-1 rounded-full text-xs font-bold transition-all">EN</button>
                    <button onclick="i18n.setLanguage('tr')" data-lang-option="tr" class="px-2 py-1 rounded-full text-xs font-bold transition-all">TR</button>
                </div>
                <div id="user-display"></div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 py-8 flex flex-col justify-center max-w-6xl">
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start h-full">

            <!-- LEFT COLUMN: Streak Stats -->
            <div class="lg:col-span-3 order-2 lg:order-1 flex flex-col gap-4">
                <div
                    class="glass-panel dark:bg-surface-dark bg-white rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-800">
                    <div class="flex items-center gap-3 mb-4">
                        <span class="material-symbols-outlined text-orange-500 text-3xl">local_fire_department</span>
                        <h3 class="text-lg font-semibold">Win Streak</h3>
                    </div>
                    <div
                        class="flex flex-col items-center justify-center py-6 bg-background-light dark:bg-background-dark rounded-lg border border-dashed border-gray-300 dark:border-gray-700">
                        <span id="winStreak"
                            class="text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-br from-orange-400 to-red-600">0</span>
                        <span
                            class="text-sm text-gray-500 dark:text-gray-400 mt-2 font-medium uppercase tracking-wider">Matches</span>
                    </div>
                    <p id="streakMessage" class="text-xs text-center mt-4 text-gray-500 dark:text-gray-400">
                        Win games to build your streak!
                    </p>
                </div>

                <!-- Player Info Card -->
                <div
                    class="glass-panel dark:bg-surface-dark bg-white rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800 flex items-center justify-between">
                    <div class="flex items-center gap-3">
                        <div
                            class="h-10 w-10 rounded-full bg-primary/20 text-primary flex items-center justify-center font-bold text-xl">
                            X</div>
                        <div>
                            <p class="font-medium text-sm">You</p>
                            <p class="text-xs text-gray-500">Player 1</p>
                        </div>
                    </div>
                    <div id="playerIndicator" class="h-2 w-2 rounded-full bg-green-500 animate-pulse"></div>
                </div>

                <div
                    class="glass-panel dark:bg-surface-dark bg-white rounded-xl p-4 shadow-sm border border-gray-100 dark:border-gray-800 flex items-center justify-between opacity-70">
                    <div class="flex items-center gap-3">
                        <div
                            class="h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400 flex items-center justify-center font-bold text-xl">
                            O</div>
                        <div>
                            <p class="font-medium text-sm">CPU</p>
                            <p id="difficultyLabel" class="text-xs text-gray-500">Medium Mode</p>
                        </div>
                    </div>
                    <div id="aiIndicator" class="h-2 w-2 rounded-full bg-gray-400"></div>
                </div>
            </div>

            <!-- CENTER COLUMN: Game Board -->
            <div class="lg:col-span-6 order-1 lg:order-2 flex flex-col items-center">
                <!-- Turn Indicator -->
                <div class="mb-6 flex flex-col items-center">
                    <span id="gameStatus"
                        class="px-3 py-1 bg-primary/10 text-primary text-xs font-bold uppercase tracking-widest rounded-full mb-2">Your
                        Turn</span>
                    <h2 id="turnText" class="text-3xl font-bold text-center">Player X's Turn</h2>
                </div>

                <!-- 3x3 Grid -->
                <div
                    class="relative p-4 bg-white dark:bg-surface-dark rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 w-full max-w-[420px] aspect-square">
                    <div id="gameBoard" class="grid grid-cols-3 grid-rows-3 gap-3 h-full w-full">
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="0"></button>
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="1"></button>
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="2"></button>
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="3"></button>
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="4"></button>
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="5"></button>
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="6"></button>
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="7"></button>
                        <button
                            class="cell group relative flex items-center justify-center bg-background-light dark:bg-background-dark rounded-xl hover:bg-gray-100 dark:hover:bg-[#151b29] transition-all duration-200 border border-transparent hover:border-primary/50 cursor-pointer"
                            data-index="8"></button>
                    </div>
                </div>

                <!-- Controls -->
                <div class="mt-8 w-full max-w-[420px] flex flex-col gap-5">
                    <!-- Difficulty Selector -->
                    <div class="flex flex-col gap-2">
                        <label class="text-sm font-medium text-gray-500 dark:text-gray-400 ml-1">Difficulty</label>
                        <div class="bg-gray-200 dark:bg-surface-dark p-1 rounded-lg flex">
                            <label class="flex-1 cursor-pointer">
                                <input class="peer sr-only" name="difficulty" type="radio" value="easy">
                                <div
                                    class="py-2.5 text-center rounded-md text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 peer-checked:bg-white dark:peer-checked:bg-background-dark peer-checked:text-primary dark:peer-checked:text-white peer-checked:shadow-sm transition-all">
                                    Easy
                                </div>
                            </label>
                            <label class="flex-1 cursor-pointer">
                                <input checked class="peer sr-only" name="difficulty" type="radio" value="medium">
                                <div
                                    class="py-2.5 text-center rounded-md text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 peer-checked:bg-white dark:peer-checked:bg-background-dark peer-checked:text-primary dark:peer-checked:text-white peer-checked:shadow-sm transition-all">
                                    Medium
                                </div>
                            </label>
                            <label class="flex-1 cursor-pointer">
                                <input class="peer sr-only" name="difficulty" type="radio" value="hard">
                                <div
                                    class="py-2.5 text-center rounded-md text-sm font-medium text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 peer-checked:bg-white dark:peer-checked:bg-background-dark peer-checked:text-primary dark:peer-checked:text-white peer-checked:shadow-sm transition-all">
                                    Hard
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- New Game Button -->
                    <button id="restartBtn"
                        class="w-full bg-primary hover:bg-primary-dark text-white font-bold py-3.5 px-6 rounded-lg shadow-lg hover:shadow-primary/25 active:transform active:scale-[0.98] transition-all flex items-center justify-center gap-2">
                        <span class="material-symbols-outlined">refresh</span>
                        New Game
                    </button>
                </div>
            </div>

            <!-- RIGHT COLUMN: Detailed Stats -->
            <div class="lg:col-span-3 order-3 flex flex-col gap-4">
                <div
                    class="glass-panel dark:bg-surface-dark bg-white rounded-xl p-6 shadow-sm border border-gray-100 dark:border-gray-800 h-full">
                    <div class="flex items-center gap-3 mb-6">
                        <span class="material-symbols-outlined text-primary text-3xl">bar_chart</span>
                        <h3 class="text-lg font-semibold">Statistics</h3>
                    </div>
                    <div class="space-y-4">
                        <!-- Wins -->
                        <div class="flex flex-col gap-1">
                            <div class="flex justify-between items-end">
                                <span class="text-sm font-medium text-gray-500 dark:text-gray-400">Wins</span>
                                <span id="winsCount" class="text-lg font-bold">0</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                <div id="winsBar" class="bg-primary h-2.5 rounded-full transition-all"
                                    style="width: 0%"></div>
                            </div>
                        </div>
                        <!-- Draws -->
                        <div class="flex flex-col gap-1">
                            <div class="flex justify-between items-end">
                                <span class="text-sm font-medium text-gray-500 dark:text-gray-400">Draws</span>
                                <span id="drawsCount" class="text-lg font-bold">0</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                <div id="drawsBar"
                                    class="bg-gray-400 dark:bg-gray-500 h-2.5 rounded-full transition-all"
                                    style="width: 0%"></div>
                            </div>
                        </div>
                        <!-- Losses -->
                        <div class="flex flex-col gap-1">
                            <div class="flex justify-between items-end">
                                <span class="text-sm font-medium text-gray-500 dark:text-gray-400">Losses</span>
                                <span id="lossesCount" class="text-lg font-bold">0</span>
                            </div>
                            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden">
                                <div id="lossesBar" class="bg-red-500 h-2.5 rounded-full transition-all"
                                    style="width: 0%"></div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-8 pt-6 border-t border-gray-100 dark:border-gray-800">
                        <div class="flex justify-between items-center text-sm text-gray-500 dark:text-gray-400 mb-2">
                            <span>Win Rate</span>
                            <span id="winRate" class="text-white font-medium">0%</span>
                        </div>
                        <div class="flex justify-between items-center text-sm text-gray-500 dark:text-gray-400">
                            <span>Total Games</span>
                            <span id="totalGames" class="text-white font-medium">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer decoration -->
    <div
        class="fixed bottom-0 left-0 w-full h-96 bg-gradient-to-t from-primary/5 to-transparent -z-10 pointer-events-none">
    </div>

    <script src="game.js"></script>
</body>

</html>